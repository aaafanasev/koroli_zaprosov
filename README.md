# koroli_zaprosov
 Репозиторий для проекта хакатона
 Данные забираются с s3 через даг на airflow и прогружаются в таблицу stg.events 
 После этого у нас имееются 2 вьюхи на основании которых построен дэшборды. Задача 2 подмножество событий payments задачи 1, поэтому дополнительно не стали создавать ничего.
 Ссылка на metabase http://158.160.62.179:3000/metabase/dashboard/1-hackathon

Скрипты для создания объектов в БД в папке: SQL\

create_staging_objects.sql - скрипт для создания STAGING слоя 

create_cdm_objects.sql - скрипт для создания Data Mart слоя

Для визуализаций были использованы представления на основе таблицы с STAGING слоя:
 - events_by_hour - для распределение событий по часам в качестве идентификатора события мы использовали поле "page_url_path"
 - top_pages_prior_payment - содержит информацию по топ-10 посещённых страниц, с которых был переход в покупку — список ссылок с количеством покупок. Так же основан на поле "page_url_path"